{"version":3,"sources":["webpack:///./src/lib/components/UrlObserver.react.js"],"names":["UrlObserver","props","state","href","observer","_this","window","onpageshow","event","console","log","location","persisted","setProps","pathname","setState","disconnect","id","Component","defaultProps","propTypes","PropTypes","string","func"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAmC;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAAA,IACqBA,WAAW;EAAA;EAAA;EAC5B,qBAAYC,KAAK,EAAE;IAAA;IAAA;IACf,2BAAMA,KAAK;IACX,OAAKC,KAAK,GAAG;MAACC,IAAI,EAAE;IAAI,CAAC;IACzB,OAAKC,QAAQ,GAAG,IAAI;IAAC;EACzB;EAAC;IAAA;IAAA,OAED,6BAAoB;MAChB,IAAMC,KAAK,GAAG,IAAI;MAClB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEAC,MAAM,CAACC,UAAU,GAAG,UAAUC,KAAK,EAAE;QACjC;QACAC,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEL,KAAK,CAACH,KAAK,CAACC,IAAI,GAAG,MAAM,GAAGQ,QAAQ,CAACR,IAAI,CAAC;QAC7D;QACA,IAAIK,KAAK,CAACI,SAAS,EAAE;UACjBP,KAAK,CAACJ,KAAK,CAACY,QAAQ,CAAC;YACjBC,QAAQ,EAAEH,QAAQ,CAACG;UACvB,CAAC,CAAC;UACFT,KAAK,CAACU,QAAQ,CAAC;YACXZ,IAAI,EAAEQ,QAAQ,CAACR;UACnB,CAAC,CAAC;QACN;MACJ,CAAC;IACL;EAAC;IAAA;IAAA,OAED,gCAAuB;MACnB,IAAI,IAAI,CAACC,QAAQ,EAAE;QACf,IAAI,CAACA,QAAQ,CAACY,UAAU,EAAE;MAC9B;IACJ;EAAC;IAAA;IAAA,OAED,kBAAS;MACL,oBAAO;QAAK,EAAE,EAAE,IAAI,CAACf,KAAK,CAACgB;MAAG,EAAO;IACzC;EAAC;EAAA;AAAA,EA7CoCC,SAAS;AAAlB;AAgDhClB,WAAW,CAACmB,YAAY,GAAG,CAAC,CAAC;AAE7BnB,WAAW,CAACoB,SAAS,GAAG;EACpBH,EAAE,EAAEI,iDAAS,CAACC,MAAM;EACpBR,QAAQ,EAAEO,iDAAS,CAACC,MAAM;EAC1BT,QAAQ,EAAEQ,iDAAS,CAACE;AACxB,CAAC;;AAED,8B","file":"a5b4af8-main-wps-hmr.js","sourcesContent":["import PropTypes from 'prop-types';\r\n\r\n/**\r\n * ExampleComponent is an example component.\r\n * It takes a property, `label`, and\r\n * displays it.\r\n * It renders an input with the property `value`\r\n * which is editable by the user.\r\n */\r\n// const UrlObserver = (props) => {\r\n//     const {id, pathname, setProps} = this.props;\r\n//     useEffect(()=>{\r\n\r\n//     })\r\n//     return <div id={this.props.id}></div>;\r\n// };\r\nexport default class UrlObserver extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {href: null};\r\n        this.observer = null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        const _this = this;\r\n        // this.observer = new MutationObserver(function (mutations) {\r\n        //     if (_this.state.href !== location.href) {\r\n        //         console.log('URL', _this.state.href + ' => ' + location.href);\r\n        //         _this.props.setProps({\r\n        //             pathname: location.pathname,\r\n        //         });\r\n        //         _this.setState({\r\n        //             href: location.href,\r\n        //         });\r\n        //     }\r\n        // });\r\n        // this.observer.observe(document, {childList: true, subtree: true});\r\n\r\n        window.onpageshow = function (event) {\r\n            //     if (_this.state.href !== location.href) {\r\n            console.log('URL', _this.state.href + ' => ' + location.href);\r\n            // }\r\n            if (event.persisted) {\r\n                _this.props.setProps({\r\n                    pathname: location.pathname,\r\n                });\r\n                _this.setState({\r\n                    href: location.href,\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.observer) {\r\n            this.observer.disconnect();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <div id={this.props.id}></div>;\r\n    }\r\n}\r\n\r\nUrlObserver.defaultProps = {};\r\n\r\nUrlObserver.propTypes = {\r\n    id: PropTypes.string,\r\n    pathname: PropTypes.string,\r\n    setProps: PropTypes.func,\r\n};\r\n\r\n// export default UrlObserver;\r\n"],"sourceRoot":""}