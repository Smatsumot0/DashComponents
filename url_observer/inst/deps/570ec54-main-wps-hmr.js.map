{"version":3,"sources":["webpack:///./src/lib/components/UrlObserver.react.js"],"names":["UrlObserver","props","state","href","observer","_this","MutationObserver","mutations","location","console","log","setProps","pathname","setState","observe","document","childList","subtree","disconnect","id","Component","defaultProps","propTypes","PropTypes","string","func"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAmC;AACI;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AANA,IAOqBA,WAAW;EAAA;EAAA;EAC5B,qBAAYC,KAAK,EAAE;IAAA;IAAA;IACf,2BAAMA,KAAK;IACX,OAAKC,KAAK,GAAG;MAACC,IAAI,EAAE;IAAI,CAAC;IACzB,OAAKC,QAAQ,GAAG,IAAI;IAAC;EACzB;EAAC;IAAA;IAAA,OAED,6BAAoB;MAChB,IAAMC,KAAK,GAAG,IAAI;MAClB,IAAI,CAACD,QAAQ,GAAG,IAAIE,gBAAgB,CAAC,UAAUC,SAAS,EAAE;QACtD,IAAIF,KAAK,CAACH,KAAK,CAACC,IAAI,KAAKK,QAAQ,CAACL,IAAI,EAAE;UACpCM,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEL,KAAK,CAACH,KAAK,CAACC,IAAI,CAAC;UACnDM,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEF,QAAQ,CAACL,IAAI,CAAC;UAC/CE,KAAK,CAACJ,KAAK,CAACU,QAAQ,CAAC;YACjBC,QAAQ,EAAEJ,QAAQ,CAACI;UACvB,CAAC,CAAC;UACFP,KAAK,CAACQ,QAAQ,CAAC;YACXV,IAAI,EAAEK,QAAQ,CAACL;UACnB,CAAC,CAAC;QACN;MACJ,CAAC,CAAC;MACF,IAAI,CAACC,QAAQ,CAACU,OAAO,CAACC,QAAQ,EAAE;QAACC,SAAS,EAAE,IAAI;QAAEC,OAAO,EAAE;MAAI,CAAC,CAAC;IACrE;EAAC;IAAA;IAAA,OAED,gCAAuB;MACnB,IAAI,IAAI,CAACb,QAAQ,EAAE;QACf,IAAI,CAACA,QAAQ,CAACc,UAAU,EAAE;MAC9B;IACJ;EAAC;IAAA;IAAA,OAED,kBAAS;MACL,oBAAO;QAAK,EAAE,EAAE,IAAI,CAACjB,KAAK,CAACkB;MAAG,EAAO;IACzC;EAAC;EAAA;AAAA,EAhCoCC,+CAAS;AAAlB;AAmChCpB,WAAW,CAACqB,YAAY,GAAG,CAAC,CAAC;AAE7BrB,WAAW,CAACsB,SAAS,GAAG;EACpBH,EAAE,EAAEI,iDAAS,CAACC,MAAM;EACpBZ,QAAQ,EAAEW,iDAAS,CAACC,MAAM;EAC1Bb,QAAQ,EAAEY,iDAAS,CAACE;AACxB,CAAC,C","file":"570ec54-main-wps-hmr.js","sourcesContent":["import PropTypes from 'prop-types';\r\nimport React, {Component} from 'react';\r\n\r\n/**\r\n * ExampleComponent is an example component.\r\n * It takes a property, `label`, and\r\n * displays it.\r\n * It renders an input with the property `value`\r\n * which is editable by the user.\r\n */\r\nexport default class UrlObserver extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {href: null};\r\n        this.observer = null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        const _this = this;\r\n        this.observer = new MutationObserver(function (mutations) {\r\n            if (_this.state.href !== location.href) {\r\n                console.log('change url Before:', _this.state.href);\r\n                console.log('change url After:', location.href);\r\n                _this.props.setProps({\r\n                    pathname: location.pathname,\r\n                });\r\n                _this.setState({\r\n                    href: location.href,\r\n                });\r\n            }\r\n        });\r\n        this.observer.observe(document, {childList: true, subtree: true});\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.observer) {\r\n            this.observer.disconnect();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <div id={this.props.id}></div>;\r\n    }\r\n}\r\n\r\nUrlObserver.defaultProps = {};\r\n\r\nUrlObserver.propTypes = {\r\n    id: PropTypes.string,\r\n    pathname: PropTypes.string,\r\n    setProps: PropTypes.func,\r\n};\r\n"],"sourceRoot":""}