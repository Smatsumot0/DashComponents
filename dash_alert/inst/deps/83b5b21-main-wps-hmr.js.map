{"version":3,"sources":["webpack:///./src/lib/components/DashAlert.react.js"],"names":["BORDER_TRANSPARENT","BACKGROUND_TRANSPARENT","fadeIn","keyframes","fadeOut","Background","styled","div","attrs","props","duration","isFadeout","Alert","Title","Message","ButtonWrapper","Button","button","DashAlert","buttons","maxCount","getMaxCount","state","timeoutID","value","console","log","setState","setTimeout","setProps","is_open","clearTimeout","cnt","btn","Math","max","title","length","JSON","stringify","id","message","children","push","btns","style","maxWidth","color","backgroundColor","borderColor","click","display","Component","defaultProps","propTypes","PropTypes","string","node","isRequired","arrayOf","object","oneOfType","number","bool","output_target","any","func"],"mappings":"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","file":"83b5b21-main-wps-hmr.js","sourcesContent":["import PropTypes from 'prop-types';\r\nimport React, {Component} from 'react';\r\nimport styled, {keyframes} from 'styled-components';\r\n\r\nconst BORDER_TRANSPARENT = '99';\r\nconst BACKGROUND_TRANSPARENT = '99';\r\n\r\nconst fadeIn = keyframes`\r\n  from{\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n`;\r\nconst fadeOut = keyframes`\r\n  from{\r\n    opacity: 1;\r\n  }\r\n  to {\r\n    opacity: 0;\r\n  }\r\n`;\r\n\r\nconst Background = styled.div.attrs((props) => ({\r\n    duration: props.duration,\r\n    isFadeout: props.isFadeout,\r\n}))`\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: ${'#000000' + BACKGROUND_TRANSPARENT};\r\n    padding: 50px;\r\n    box-sizing: border-box;\r\n    animation: ${(props) => (props.isFadeout ? fadeOut : fadeIn)} ease-in-out\r\n        ${(props) => props.duration}ms forwards;\r\n`;\r\n\r\nconst Alert = styled.div`\r\n    padding: 15px 0 20px;\r\n    background-color: white;\r\n    border-radius: 10px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n`;\r\n\r\nconst Title = styled.div`\r\n    border-bottom: solid thin black;\r\n    padding: 5px 30px;\r\n`;\r\n\r\nconst Message = styled.div`\r\n    padding: 10px 30px;\r\n`;\r\n\r\nconst ButtonWrapper = styled.div`\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    gap: 10px;\r\n    padding: 0 30px;\r\n    box-sizing: content-box;\r\n`;\r\n\r\nconst Button = styled.button`\r\n    flex: 1;\r\n    padding: 3px 0;\r\n    background-color: ${'#000000' + BACKGROUND_TRANSPARENT};\r\n    border-radius: 9999px;\r\n    border: solid thin ${'#000000' + BORDER_TRANSPARENT};\r\n    color: white;\r\n`;\r\n\r\nexport default class DashAlert extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.buttons = this.props.buttons;\r\n        this.maxCount = this.getMaxCount();\r\n        this.state = {isFadeout: false};\r\n        this.timeoutID = null;\r\n    }\r\n\r\n    /**\r\n     * ボタンがクリックされた場合の動作\r\n     * @param {*} value ボタンのvalue\r\n     */\r\n    click(value) {\r\n        console.log('-- ON CLICK', value);\r\n        this.setState({isFadeout: true});\r\n        if (!this.timeoutID) {\r\n            this.timeoutID = setTimeout(() => {\r\n                this.setState({isFadeout: false});\r\n                this.props.setProps({value, is_open: false});\r\n                clearTimeout(this.timeoutID);\r\n                this.timeoutID = null;\r\n            }, this.props.duration + 100);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ボタンの最大文字数を取得\r\n     * @returns 最大文字数\r\n     */\r\n    getMaxCount() {\r\n        let cnt = 0;\r\n        for (const btn of this.buttons) {\r\n            cnt = Math.max(cnt, btn.title.length);\r\n        }\r\n        return cnt;\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        // 最大文字数設定\r\n        if (\r\n            JSON.stringify(this.buttons) !== JSON.stringify(this.props.buttons)\r\n        ) {\r\n            this.buttons = this.props.buttons;\r\n            this.maxCount = this.getMaxCount();\r\n        }\r\n\r\n        // 開くときに値をリセット\r\n        if (this.props.is_open) {\r\n            if (this.props.value || this.props.value == 0) {\r\n                this.props.setProps({value: null});\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state.isFadeout);\r\n        const {id, message, title, buttons, duration, is_open} = this.props;\r\n\r\n        const children = [];\r\n        // タイトル\r\n        if (title) {\r\n            children.push(<Title className=\"da-title\">{title}</Title>);\r\n        }\r\n\r\n        // メッセージ\r\n        children.push(<Message className=\"da-msg\">{message}</Message>);\r\n\r\n        // ボタン\r\n        const btns = [];\r\n        for (const btn of buttons) {\r\n            const style = {maxWidth: 'calc(' + this.maxCount + 'em + 50px)'};\r\n            if (btn.color) {\r\n                style.backgroundColor = btn.color + BACKGROUND_TRANSPARENT;\r\n                style.borderColor = btn.color + BORDER_TRANSPARENT;\r\n            }\r\n            btns.push(\r\n                <Button\r\n                    type=\"button\"\r\n                    key={btn.value}\r\n                    onClick={() => this.click(btn.value)}\r\n                    style={style}\r\n                >\r\n                    <span>{btn.title}</span>\r\n                </Button>\r\n            );\r\n        }\r\n\r\n        children.push(\r\n            <ButtonWrapper className=\"da-button-wrapper\">{btns}</ButtonWrapper>\r\n        );\r\n\r\n        return (\r\n            <div id={id} style={{display: is_open ? 'block' : 'none'}}>\r\n                <Background\r\n                    className=\"da-background\"\r\n                    duration={duration}\r\n                    isFadeout={this.state.isFadeout}\r\n                >\r\n                    <Alert className=\"da-alert\">{children}</Alert>\r\n                </Background>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nDashAlert.defaultProps = {\r\n    is_open: false,\r\n    duration: 150,\r\n};\r\n\r\nDashAlert.propTypes = {\r\n    id: PropTypes.string,\r\n    message: PropTypes.node.isRequired,\r\n    title: PropTypes.node,\r\n    buttons: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    is_open: PropTypes.bool,\r\n    duration: PropTypes.number,\r\n    output_target: PropTypes.any,\r\n    setProps: PropTypes.func,\r\n};\r\n"],"sourceRoot":""}