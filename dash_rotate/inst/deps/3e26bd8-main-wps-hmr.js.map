{"version":3,"sources":["webpack:///./src/lib/components/DashRotate.react.js"],"names":["Message","styled","div","DashRotate","props","state","orientation","getOrientation","angle","screen","undefined","window","addEventListener","setState","reload","timing","timeout","setTimeout","location","clearTimeout","delay","id","message","children","Component","defaultProps","propTypes","PropTypes","string","node","bool","number","setProps","func"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAmC;AACI;AACA;AAEvC,IAAMA,OAAO,GAAGC,yDAAM,CAACC,GAAG,qJAMzB;AAAC,IAEmBC,UAAU;EAAA;EAAA;EAC7B,oBAAYC,KAAK,EAAE;IAAA;IAAA;IACjB,0BAAMA,KAAK;IACX,MAAKC,KAAK,GAAG;MAACC,WAAW,EAAE,MAAKC,cAAc;IAAE,CAAC;IAAC;EACpD;;EAEA;AACF;AACA;AACA;EAHE;IAAA;IAAA,OAIA,0BAAiB;MACf,IAAIC,KAAK,GAAGC,MAAM,IAAIA,MAAM,CAACH,WAAW,IAAIG,MAAM,CAACH,WAAW,CAACE,KAAK;MACpE,IAAIA,KAAK,KAAKE,SAAS,EAAE;QACvBF,KAAK,GAAGG,MAAM,CAACL,WAAW,CAAC,CAAC;MAC9B;;MACA,OAAOE,KAAK,KAAK,CAAC,GAAG,UAAU,GAAG,WAAW;IAC/C;EAAC;IAAA;IAAA,OAED,6BAAoB;MAAA;MAClBG,MAAM,CAACC,gBAAgB,CAAC,mBAAmB,EAAE,YAAM;QACjD,MAAI,CAACC,QAAQ,CAAC;UAACP,WAAW,EAAE,MAAI,CAACC,cAAc;QAAE,CAAC,CAAC;QACnD;QACA,IAAI,MAAI,CAACH,KAAK,CAACU,MAAM,EAAE;UACrB,IAAIA,MAAM,GAAG,KAAK;UAClB,QAAQ,MAAI,CAACV,KAAK,CAACW,MAAM;YACvB,KAAK,KAAK;cACRD,MAAM,GAAG,IAAI;cACb;YACF,KAAK,OAAO;cACVA,MAAM,GAAG,MAAI,CAACT,KAAK,CAACC,WAAW,KAAK,MAAI,CAACF,KAAK,CAACE,WAAW;YAC5D;cACE;UAAM;UAEV,IAAMU,OAAO,GAAGC,UAAU,CAAC,YAAM;YAC/BC,QAAQ,CAACJ,MAAM,EAAE;YACjBK,YAAY,CAACH,OAAO,CAAC;UACvB,CAAC,EAAE,MAAI,CAACZ,KAAK,CAACgB,KAAK,CAAC;QACtB;MACF,CAAC,CAAC;IACJ;EAAC;IAAA;IAAA,OAED,kBAAS;MACP,kBAAmC,IAAI,CAAChB,KAAK;QAAtCiB,EAAE,eAAFA,EAAE;QAAEf,WAAW,eAAXA,WAAW;QAAEgB,OAAO,eAAPA,OAAO;MAC/B,IAAIC,QAAQ;MACZ,IAAID,OAAO,IAAIhB,WAAW,IAAI,IAAI,CAACD,KAAK,CAACC,WAAW,KAAKA,WAAW,EAAE;QACpEiB,QAAQ,gBAAG,2DAAC,OAAO;UAAC,SAAS,EAAC;QAAY,GAAED,OAAO,CAAW;MAChE;MACA,oBAAO;QAAK,EAAE,EAAED;MAAG,GAAEE,QAAQ,CAAO;IACtC;EAAC;EAAA;AAAA,EAhDqCC,+CAAS;AAAlB;AAmD/BrB,UAAU,CAACsB,YAAY,GAAG;EACxBX,MAAM,EAAE,IAAI;EACZC,MAAM,EAAE,KAAK;EACbK,KAAK,EAAE;AACT,CAAC;AAEDjB,UAAU,CAACuB,SAAS,GAAG;EACrBL,EAAE,EAAEM,iDAAS,CAACC,MAAM;EACpBtB,WAAW,EAAEqB,iDAAS,CAACC,MAAM;EAC7BN,OAAO,EAAEK,iDAAS,CAACE,IAAI;EACvBf,MAAM,EAAEa,iDAAS,CAACG,IAAI;EACtBf,MAAM,EAAEY,iDAAS,CAACC,MAAM;EAAE;EAC1BR,KAAK,EAAEO,iDAAS,CAACI,MAAM;EACvBC,QAAQ,EAAEL,iDAAS,CAACM;AACtB,CAAC,C","file":"3e26bd8-main-wps-hmr.js","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport React, {Component} from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Message = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  height: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nexport default class DashRotate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {orientation: this.getOrientation()};\r\n  }\r\n\r\n  /**\r\n   * 画面向きを取得\r\n   * @returns portrait／landscape\r\n   */\r\n  getOrientation() {\r\n    let angle = screen && screen.orientation && screen.orientation.angle;\r\n    if (angle === undefined) {\r\n      angle = window.orientation; // iOS用\r\n    }\r\n    return angle === 0 ? \"portrait\" : \"landscape\";\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"orientationchange\", () => {\r\n      this.setState({orientation: this.getOrientation()});\r\n      // reload\r\n      if (this.props.reload) {\r\n        let reload = false;\r\n        switch (this.props.timing) {\r\n          case \"all\":\r\n            reload = true;\r\n            break;\r\n          case \"match\":\r\n            reload = this.state.orientation === this.props.orientation;\r\n          default:\r\n            break;\r\n        }\r\n        const timeout = setTimeout(() => {\r\n          location.reload();\r\n          clearTimeout(timeout);\r\n        }, this.props.delay);\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {id, orientation, message} = this.props;\r\n    let children;\r\n    if (message && orientation && this.state.orientation !== orientation) {\r\n      children = <Message className=\"dr-message\">{message}</Message>;\r\n    }\r\n    return <div id={id}>{children}</div>;\r\n  }\r\n}\r\n\r\nDashRotate.defaultProps = {\r\n  reload: true,\r\n  timing: \"all\",\r\n  delay: 10,\r\n};\r\n\r\nDashRotate.propTypes = {\r\n  id: PropTypes.string,\r\n  orientation: PropTypes.string,\r\n  message: PropTypes.node,\r\n  reload: PropTypes.bool,\r\n  timing: PropTypes.string, // all, match\r\n  delay: PropTypes.number,\r\n  setProps: PropTypes.func,\r\n};\r\n"],"sourceRoot":""}